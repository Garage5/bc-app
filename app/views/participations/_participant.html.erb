<% team ||= nil %>
<% show_invite ||= nil %>
<% show_checkbox ||= nil %>
<% profile_title = "View #{participant.login}'#{'s' unless participant.login[-1..-1] == 's'} profile" %>

<li class="clear" id="user-<%= participant.id %>">
  <% if show_checkbox %>
    <p class="approve_checkbox"><input type="checkbox" id="approve_checkbox-<%= participant.id %>" value="<%= participant.id %>" class="approve_checkbox_box" /></p>
  <% end %>
  
	<div class="user_avatar">
		<%= link_to image_tag(participant.avatar.url(:medium)), profile_user_path(participant.login), :title => profile_title %>
	</div>
	
	<div class="user_name clear">
	  <%= link_to participant.login, profile_user_path(participant.login), :title => profile_title %>
    <p class="nick_name"><%= participant.name %></p>
	  <p class="role"><%#= participant.role_in(@tournament, team) %></p>
	</div><!-- / user_name -->
	<div class="clear"></div>
	
	<div class="activity">Last activity: <span class='date' title="<%= participant.last_activity %>"><%= participant.last_activity %></span></div>
	
	<% if current_user && 
	  @instance.admin != participant && 
	  ((current_user == @instance.admin && @officials.include?(participant)) || 
	  (current_user.is_hosting?(@instance) && !@officials.include?(participant)) || 
	  (current_user == participant)) &&
	  !@tournament.started? %>
  	
  	  <%= link_to('Delete', deny_tournament_participants_path(:participant => participant.id), :title => 'Delete User', :class => 'user_delete', :rel => "modal {method: 'delete', title: 'Are You Sure?', text: 'Do you really want to #{ participant == current_user ? 'leave' : "remove <b>#{participant.login}</b> from" } this tournament?'}") %>
  
  <% end %>
  
  <% if show_invite %>
    <%= link_to "Invite", tournament_team_invite_path(@tournament, participant) %>
  <% end %>
</li>


